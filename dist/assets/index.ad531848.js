import{o as i,c as d,a,b as m,d as z,e as ne,v as ae,r as g,I as L,w as C,f as V,F as y,g as k,t as h,h as re,i as p,j as u,k as ce,l as le,m as ie,n as q,p as P,u as K,q as R,s as de,x as ue,y as _e,z as pe,A as he,B as me,C as ge,D as ve}from"./vendor.18dbd288.js";const fe=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver(t=>{for(const n of t)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&e(r)}).observe(document,{childList:!0,subtree:!0});function l(t){const n={};return t.integrity&&(n.integrity=t.integrity),t.referrerpolicy&&(n.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?n.credentials="include":t.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function e(t){if(t.ep)return;t.ep=!0;const n=l(t);fetch(t.href,n)}};fe();var W="/assets/spotdl.fecdfd79.svg",v=(s,o)=>{const l=s.__vccOpts||s;for(const[e,t]of o)l[e]=t;return l};const be={components:{},setup(){return{}}},we={class:"p-10 footer bg-neutral text-neutral-content"},ye=a("div",null,[a("img",{src:W,width:"50",height:"50",viewBox:"0 0 24 24"}),a("p",null,[m("spotdl"),a("br"),m("Open Source Music Downloader")])],-1),$e=z('<div><span class="footer-title">Social</span><div class="grid grid-flow-col gap-4"><a href="https://github.com/spotDL/spotdl-v4" target="_blank"><svg width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a><a href="https://discord.gg/xCa23pwJWY" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="fill-current" viewBox="0 0 16 16"><path d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z"></path></svg></a></div></div>',1),xe=[ye,$e];function ke(s,o,l,e,t,n){return i(),d("footer",we,xe)}var Se=v(be,[["render",ke]]);const $={PROTOCOL:"http",WS_PROTOCOL:"ws",BACKEND:"localhost",PORT:"8800",BASEURL:""};console.log("using env:",{});console.log("using config: ",$);const E=ne.create({baseURL:`${$.PROTOCOL}://${$.BACKEND}:${$.PORT}${$.BASEURL}`}),N=ae();console.log("session ID: ",N);const G=new WebSocket(`${$.WS_PROTOCOL}://${$.BACKEND}:${$.PORT}${$.BASEURL}/api/ws?client_id=${N}`);function De(s){return E.get("/api/songs/search",{params:{query:s}})}function Oe(s){return E.get("/api/song/url",{params:{url:s}})}function Le(s){return E.post("/api/download/url",null,{params:{url:s,client_id:N}})}function Re(s){return E.defaults.baseURL+"/api/download/file?file="+s+"&client_id="+N}function Ee(){return E.get("/api/settings")}function Ue(s){return E.post("/api/settings/update",s,null)}function Ae(s){return G.onmessage=s}function Ce(s){return G.onerror=s}var S={search:De,open:Oe,download:Le,downloadFileURL:Re,getSettings:Ee,setSettings:Ue,ws_onmessage:Ae,ws_onerror:Ce};const T=g({}),Ne={audio_provider:["youtube","youtube-music"],lyrics_provider:["genius","musixmatch","azlyrics"],format:["mp3","flac","ogg","opus","m4a"],output:"{artists} - {title}.{output-ext}"};S.getSettings().then(s=>{s.status===200?(console.log("Received settings:",s.data),T.value=s.data):console.log("Error loading settings")});function Te(){function s(){console.log("Saving settings:",T.value),S.setSettings(T.value).then(o=>{console.log("Received settings response:",o),o.status===200?console.log("Saved!"):console.log("Error saving settings")})}return{saveSettings:s,settings:T,settingsOptions:Ne}}const Be={components:{Icon:L},setup(){return{sm:Te()}}},Ie=a("input",{type:"checkbox",id:"my-modal",class:"modal-toggle"},null,-1),Me={class:"modal"},Ve={class:"modal-box"},qe=a("h3",{class:"font-bold text-lg"},"Download Settings",-1),Pe={class:"flex flex-col justify-center my-4"},We={class:"form-control w-full"},Fe=a("label",{class:"label"},[a("span",{class:"label-text"},"Audio Provider")],-1),He=["selected"],Qe={class:"form-control w-full"},je=a("label",{class:"label"},[a("span",{class:"label-text"},"Lyrics Provider")],-1),ze=["selected"],Ke={class:"form-control w-full"},Ge=a("label",{class:"label"},[a("span",{class:"label-text"},"Output Format")],-1),Ze=["selected"],Je={class:"modal-action"};function Xe(s,o,l,e,t,n){return i(),d(y,null,[Ie,a("div",Me,[a("div",Ve,[qe,a("div",Pe,[a("div",We,[Fe,C(a("select",{class:"select w-full","onUpdate:modelValue":o[0]||(o[0]=r=>e.sm.settings.value.audio_provider=r)},[(i(!0),d(y,null,k(e.sm.settingsOptions.audio_provider,(r,c)=>(i(),d("option",{key:c,selected:r===e.sm.settings.value.audio_provider},h(r),9,He))),128))],512),[[V,e.sm.settings.value.audio_provider]])]),a("div",Qe,[je,C(a("select",{class:"select w-full","onUpdate:modelValue":o[1]||(o[1]=r=>e.sm.settings.value.lyrics_provider=r)},[(i(!0),d(y,null,k(e.sm.settingsOptions.lyrics_provider,(r,c)=>(i(),d("option",{key:c,selected:r===e.sm.settings.value.lyrics_provider},h(r),9,ze))),128))],512),[[V,e.sm.settings.value.lyrics_provider]])]),a("div",Ke,[Ge,C(a("select",{class:"select w-full","onUpdate:modelValue":o[2]||(o[2]=r=>e.sm.settings.value.format=r)},[(i(!0),d(y,null,k(e.sm.settingsOptions.format,(r,c)=>(i(),d("option",{key:c,selected:r===e.sm.settings.value.format},h(r),9,Ze))),128))],512),[[V,e.sm.settings.value.format]])])]),a("div",Je,[a("label",{for:"my-modal",class:"btn",onClick:o[3]||(o[3]=r=>e.sm.saveSettings())},"Save")])])])],64)}var Ye=v(Be,[["render",Xe]]);const b=g(""),Z=g("light"),J=g("dark");function X(s=!0,o="",l,e){function t(w){Z.value=w,f()}function n(w){J.value=w,f()}function r(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function c(w){b.value=w,f()}function _(){b==="dark"?b.value="light":b==="light"&&(b.value="dark"),f()}function f(){document.documentElement.setAttribute("data-theme",b.value==="dark"?J.value:Z.value)}return b.value!=="light"&&b.value!=="dark"&&(s&&c(r()),(o==="light"||o==="dark")&&(b.value=o)),l&&t(l),e&&n(e),f(),{currentTheme:b,setLightAlias:t,setDarkAlias:n,getSystemTheme:r,setTheme:c,switchTheme:_}}const et={name:"App",components:{Footer:Se,Settings:Ye},setup(){const s=X();return re(()=>{s.setLightAlias("emerald"),s.setDarkAlias("forest")}),{themeMgr:s}}},tt={class:"bg-base-300 absolute w-full top-0"};function ot(s,o,l,e,t,n){const r=p("router-view"),c=p("Footer"),_=p("Settings");return i(),d("div",tt,[u(r),u(c),u(_)])}var st=v(et,[["render",ot]]);const Y=g(""),F=g(),U=g(!1),B=g(!1),I=g("");function H(){function s(t){return o(t)||l(t)}function o(t){return t!==""}function l(t){return!!t.includes("://open.spotify.com/track/")}function e(t){console.log("Searching for:",t),F.value=[],U.value=!0,Y.value=t,B.value=!1,I.value="",S.search(t).then(n=>{console.log("Received Data:",n.data),n.status===200?(F.value=n.data,U.value=!1):(console.log("Error:",n),U.value=!1,B.value=!0,I.value=n.toString())}).catch(n=>{console.log("Other Error:",n.message),U.value=!1,B.value=!0,I.value=n.message})}return{searchTerm:Y,isSearching:U,results:F,error:B,errorValue:I,searchFor:e,isValid:s,isValidSearch:o,isValidURL:l}}const D={QUEUED:"In Queue",DOWNLOADING:"Downloading...",DOWNLOADED:"Done",ERROR:"Error"},O=g([]);class nt{constructor(o){this.song=o,this.web_status=D.QUEUED,this.progress=0,this.message=null,this.web_download_url=null}setDownloading(){this.web_status=D.DOWNLOADING}setDownloaded(){this.web_status=D.DOWNLOADED}setError(){this.web_status=D.ERROR}setWebURL(o){this.web_download_url=o}isQueued(){return this.song.song_id!==void 0}isDownloading(){return this.web_status===D.DOWNLOADING}isDownloaded(){return this.web_status===D.DOWNLOADED}isErrored(){return this.web_status===D.ERROR}wsUpdate(o){this.progress=o.progress,this.message=o.message}}function M(){function s(t){return O.value.findIndex(n=>n.song.song_id===t.song_id)}function o(t){let n=new nt(t);O.value.push(n)}function l(t){console.log("removing",t,t.song_id),O.value=O.value.filter(n=>n.song.song_id!==t.song_id),console.log(O.value)}function e(t){return O.value[s(t)]}return{appendSong:o,removeSong:l,getBySong:e,downloadQueue:O}}const x=M();S.ws_onmessage(s=>{let o=JSON.parse(s.data);x.getBySong(o.song).wsUpdate(o)});function A(){function s(t){S.open(t).then(n=>{if(console.log("Received Response:",n),n.status===200){let r=n.data;console.log("Opened Song:",r),l(r)}else console.log("Error:",n)}).catch(n=>{console.log("Other Error:",n.message)})}function o(t){console.log("Downloading",t),x.getBySong(t).setDownloading(),S.download(t.url).then(n=>{if(console.log("Received Response:",n),n.status===200){let r=n.data;console.log("Download Complete:",r),x.getBySong(t).setWebURL(S.downloadFileURL(r)),x.getBySong(t).setDownloaded()}else console.log("Error:",n),x.getBySong(t).setError()}).catch(n=>{console.log("Other Error:",n.message),x.getBySong(t).setError()})}function l(t,n=!0){x.appendSong(t),n&&o(t)}function e(t){console.log("removing"),x.removeSong(t)}return{fromURL:s,download:o,queue:l,remove:e}}const at={components:{Icon:L},setup(){const s=H(),o=A(),l=["All Eyes On Me - Bo Burnham","https://open.spotify.com/track/4vfN00PlILRXy5dcXHQE9M?si=e4d9e7c044dd4a8f","Lil Wayne","Drive - Miley Cyrus","Sofia - TMG","Lightning Crashes - Live"],e=g(l[0]),t=setInterval(()=>{l.push(l.shift()),e.value=l[0]},6e3);ce(()=>{clearInterval(t)});function n(c){if(s.isValidURL(c))o.fromURL(c),r({name:"Download"});else if(s.isValidSearch(c)){let _={name:"Search",params:{query:c}};s.isValidSearch(c)&&r(_)}}function r(c){Q.push(c)}return{lookUp:n,searchTerm:s.searchTerm,isValidURL:s.isValidURL,placeHolder:e}}},rt={class:"flex flex-row items-center space-x-4 w-full"},ct=["placeholder"],lt=m(" \u200B ");function it(s,o,l,e,t,n){const r=p("Icon");return i(),d("div",rt,[C(a("input",{type:"text",placeholder:e.placeHolder,class:"input input-bordered w-full text-base-content","onUpdate:modelValue":o[0]||(o[0]=c=>e.searchTerm=c),onKeyup:o[1]||(o[1]=ie(c=>e.lookUp(e.searchTerm),["enter"]))},null,40,ct),[[le,e.searchTerm]]),a("button",{class:"btn btn-square btn-primary",onClick:o[2]||(o[2]=c=>e.lookUp(e.searchTerm))},[lt,e.isValidURL(e.searchTerm)?(i(),q(r,{key:0,icon:"clarity:download-line",class:"h-6 w-6"})):(i(),q(r,{key:1,icon:"clarity:search-line",class:"h-6 w-6"}))])])}var ee=v(at,[["render",it]]);const dt={components:{Icon:L,SearchInput:ee},setup(){return{themeMgr:X()}}},ut={class:"hero min-h-screen"},_t={key:0,class:"flex justify-end absolute top-0 right-0"},pt=["checked"],ht={for:"my-modal",class:"btn btn-square modal-button m-2"},mt=m(" \u200B "),gt={class:"block text-center justify-center hero-content"},vt=z('<div class="bg-cover bg-no-repeat bg-center" data-v-a76a0a0c><img src="'+W+'" class="mb-5 w-32 center" data-v-a76a0a0c></div><div class="max-w-lg" data-v-a76a0a0c><h1 class="mb-5 text-5xl font-bold text-base-content" data-v-a76a0a0c>spotdl</h1><p class="mb-5 text-base-content" data-v-a76a0a0c> Download any song and never have to worry about metadata. </p></div>',2);function ft(s,o,l,e,t,n){const r=p("Icon"),c=p("SearchInput");return i(),d("div",ut,[(i(),d("div",_t,[a("input",{type:"checkbox",class:"toggle my-5 mx-2",onChange:o[0]||(o[0]=_=>e.themeMgr.setTheme(_.target.checked?"light":"dark")),checked:e.themeMgr.currentTheme.value==="dark"?!1:"checked"},null,40,pt),a("label",ht,[mt,u(r,{icon:"clarity:settings-line",class:"h-6 w-6"})])])),a("div",gt,[vt,u(c)])])}var bt=v(dt,[["render",ft],["__scopeId","data-v-a76a0a0c"]]);const wt={components:{Hero:bt},setup(){return P(()=>{window.scroll(0,0)}),{}}};function yt(s,o,l,e,t,n){const r=p("Hero");return i(),q(r)}var $t=v(wt,[["render",yt]]);const xt={components:{Icon:L,SearchInput:ee},setup(){const s=M(),o=A(),l=K();function e(t){Q.push(t)}return{goto:e,route:l,pt:s,dm:o}}},te=s=>(ue("data-v-7dbe3b7d"),s=s(),_e(),s),kt={class:"navbar m-2 shadow-lg bg-neutral text-neutral-content rounded-box",style:{width:"auto !important"}},St=te(()=>a("div",{class:"bg-cover bg-no-repeat bg-center"},[a("img",{src:W,class:"py-2 pr-2 w-10 center"})],-1)),Dt=te(()=>a("button",{class:"text-lg font-bold"},"spotdl",-1)),Ot=[St,Dt],Lt={class:"hidden sm:flex px-2 mx-2 navbar-center w-96 space-x-4"},Rt={class:"navbar-end"},Et={for:"my-modal",class:"btn btn-square modal-button mx-2"},Ut=m(" \u200B "),At={class:"indicator"},Ct={key:0,class:"indicator-item indicator-top indicator-end badge badge-secondary",style:{top:"-5px",right:"-5px"}},Nt=m(" \u200B "),Tt={class:"sm:hidden px-2 mx-2"};function Bt(s,o,l,e,t,n){const r=p("SearchInput"),c=p("Icon");return i(),d(y,null,[a("div",kt,[a("button",{class:"px-2 mx-2 navbar-start",onClick:o[0]||(o[0]=_=>e.goto({name:"Home"}))},Ot),a("div",Lt,[u(r,{class:"w-full"})]),a("div",Rt,[a("label",Et,[Ut,u(c,{icon:"clarity:settings-line",class:"h-6 w-6"})]),a("div",At,[e.pt.downloadQueue.value.length>0?(i(),d("div",Ct,h(e.pt.downloadQueue.value.length),1)):R("",!0),a("a",{class:de(["btn btn-square",e.route.name==="Download"?"btn-primary":"btn-ghost"]),onClick:o[1]||(o[1]=_=>e.goto({name:"Download"}))},[Nt,u(c,{icon:"clarity:download-cloud-line",class:"h-6 w-6"})],2)])])]),a("div",Tt,[u(r,{class:"w-full"})])],64)}var oe=v(xt,[["render",Bt],["__scopeId","data-v-7dbe3b7d"]]);const It={components:{Icon:L},props:["data","error"],emits:["download"],setup(s,o){const l=H(),e=M(),t=A();return{data:s.data,error:s.error,errorValue:l.errorValue,loading:l.isSearching,download:n=>o.emit("download",n),dm:t,pt:e}}},Mt={class:"min-h-screen m-2"},Vt={key:0,class:"hero min-h-screen"},qt={key:0,class:"btn btn-sm btn-ghost loading"},Pt={key:1,class:"alert alert-error"},Wt={class:"flex-1"},Ft=a("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"w-6 h-6 mx-2 stroke-current"},[a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})],-1),Ht={class:"aspect-square md:max-h-fit"},Qt=["src"],jt={class:"card-body"},zt={class:"card-title"},Kt={key:0,class:"badge mx-0.5 badge-error"},Gt={key:0},Zt=a("br",null,null,-1),Jt=a("p",null,[a("br")],-1),Xt={class:"card-actions absolute bottom-0 right-0 m-2"},Yt=["href"],eo=m(" \u200B "),to={key:0,class:"btn btn-primary btn-square"},oo=m(" \u200B "),so=["onClick"],no=m(" \u200B ");function ao(s,o,l,e,t,n){const r=p("Icon");return i(),d("div",Mt,[e.loading||e.error?(i(),d("div",Vt,[e.loading?(i(),d("button",qt," LOADING ")):R("",!0),e.error?(i(),d("div",Pt,[a("div",Wt,[Ft,a("label",null,"Error: "+h(e.errorValue),1)])])):R("",!0)])):(i(!0),d(y,{key:1},k(e.data,(c,_)=>{var f;return i(),d("div",{key:_,class:"card md:card-side card-bordered my-2 shadow-lg card-compact bg-base-100"},[a("figure",Ht,[a("img",{src:c.cover_url,class:"object-contain aspect-square md:max-h-44"},null,8,Qt)]),a("div",jt,[a("h2",zt,[m(h(c.name)+" - "+h(c.artist)+" ",1),c.explicit?(i(),d("div",Kt," Explicit ")):R("",!0)]),a("h3",null,[(i(!0),d(y,null,k(c.artists,(w,j)=>(i(),d("a",{key:j},[j!==0?(i(),d("a",Gt," \u2022 ")):R("",!0),m(" "+h(w),1)]))),128))]),a("h3",null,h(c.album_name),1),Zt,Jt,a("div",Xt,[a("a",{class:"btn btn-ghost btn-square",href:c.url,target:"_blank"},[eo,u(r,{icon:"clarity:link-line",class:"h-6 w-6"})],8,Yt),((f=e.pt.getBySong(c))==null?void 0:f.isQueued())?(i(),d("button",to,[oo,u(r,{icon:"clarity:check-line",class:"h-6 w-6"})])):(i(),d("button",{key:1,class:"btn btn-primary btn-square",onClick:w=>e.download(c)},[no,u(r,{icon:"clarity:download-line",class:"h-6 w-6"})],8,so))])])])}),128))])}var ro=v(It,[["render",ao]]);const co={components:{Navbar:oe,SearchList:ro},setup(){P(()=>{window.scroll(0,0)});const s=K(),o=H(),l=A();return pe(()=>s.params.query,()=>{s.params.query&&o.searchFor(s.params.query)},{deep:!0}),o.searchFor(s.params.query),{sm:o,dm:l}}};function lo(s,o,l,e,t,n){const r=p("Navbar"),c=p("SearchList");return i(),d("div",null,[u(r),u(c,{data:e.sm.results,error:e.sm.error,onDownload:o[0]||(o[0]=_=>e.dm.queue(_))},null,8,["data","error"])])}var io=v(co,[["render",lo]]);const uo={components:{Icon:L},props:{data:Object},setup(s,o){const l=M(),e=A();function t(n){const r=document.createElement("a");r.href=n,r.download=n.split("/").pop(),document.body.appendChild(r),r.click(),document.body.removeChild(r)}return{dm:e,pt:l,download:t}}},_o={class:"min-h-screen m-2"},po={class:"carousel carousel-end bg-base-200 rounded-box shadow-lg"},ho=["src"],mo={class:"card card-bordered my-2 shadow-lg card-compact bg-base-100"},go={class:"card-title"},vo={class:"stat-figure text-primary flex space-x-2 items-center"},fo={key:0,class:"badge badge-error gap-2"},bo={class:"badge"},wo=["onClick"],yo=m(" \u200B "),$o=["onClick"],xo=m(" \u200B "),ko={key:2,class:"btn btn-square btn-ghost loading"};function So(s,o,l,e,t,n){const r=p("Icon");return i(),d("div",_o,[a("div",po,[(i(!0),d(y,null,k(e.pt.downloadQueue.value,(c,_)=>(i(),d("div",{key:_,class:"carousel-item h-48"},[a("img",{src:c.song.cover_url},null,8,ho)]))),128))]),a("div",mo,[(i(!0),d(y,null,k(e.pt.downloadQueue.value,(c,_)=>(i(),d("div",{key:_,class:"card-body grid grid-rows-1"},[a("h2",go,h(c.song.name)+" - "+h(c.song.artist),1),a("p",null,h(c.song.album_name),1),a("div",vo,[c.isErrored()?(i(),d("div",fo," error ")):R("",!0),a("span",bo,h(c.message||c.web_status),1),a("button",{class:"btn btn-error btn-outline btn-square",onClick:f=>e.dm.remove(c.song)},[yo,u(r,{icon:"clarity:trash-line",class:"h-6 w-6"})],8,wo),c.isDownloaded()?(i(),d("a",{key:1,class:"btn btn-square btn-ghost",href:"javascript:;",onClick:f=>e.download(c.web_download_url),download:""},[xo,u(r,{icon:"clarity:download-line",class:"h-6 w-6"})],8,$o)):c.progress===0?(i(),d("button",ko," \u200B ")):(i(),d("div",{key:3,class:"radial-progress bg-primary text-primary-content border-4 border-primary",style:he(`--value: ${c.progress*100}; --size: 2.5rem`)},h(Math.round(c.progress*100))+"% ",5))])]))),128))])])}var Do=v(uo,[["render",So]]);const Oo={components:{Navbar:oe,DownloadList:Do},setup(){return P(()=>{window.scroll(0,0)}),{}}};function Lo(s,o,l,e,t,n){const r=p("Navbar"),c=p("DownloadList");return i(),d("div",null,[u(r),u(c)])}var Ro=v(Oo,[["render",Lo]]);const Eo=[{path:"/",name:"Home",component:$t},{path:"/search/:query",name:"Search",component:io},{path:"/download",name:"Download",component:Ro}],Q=me({history:ge(),routes:Eo});const se=ve(st);se.use(Q);se.mount("#app");
